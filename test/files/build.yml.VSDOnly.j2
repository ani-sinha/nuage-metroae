---
# See BUILD.md for details

# First set of tasks is to gather_facts so that subsequent task list can use these facts as part of variable setting
- hosts: localhost
  gather_facts: yes
  tasks: []

# Actual tasks to generate build configuration
- hosts: localhost
  roles:
    - nuage-unpack
    - build
  vars:
    nuage_packed_src_path: "/home/caso/nuage-jenkins/4.0R4/nuage-packed"
    nuage_unpacked_dest_path: "/home/caso/nuage-jenkins/4.0R4/nuage-unpacked"
    nuage_already_unpacked: false
    nuage_target_architecture: {{ target_os }}
    vsd_standalone: true
    myvsds:
      - { hostname: {{ inventory_hostname }}-vsd1.example.com,
          target_server_type: "kvm",
          target_server: {{ target_server }},
          mgmt_ip: {{ network_address }}.211,
          mgmt_gateway: {{ network_address }}.2,
          mgmt_netmask: 255.255.255.0 }
    ansible_deployment_host: 10.106.0.2
    mgmt_bridge: "mgmt"
    data_bridge: "data"
    access_bridge: "access"
    images_path: "/var/lib/libvirt/images/"
    ntp_server_list:
      - {{ target_server }}
      - 128.138.141.172
    dns_server_list:
      - {{ target_server }}
      - 128.251.10.145
    dns_domain: example.com
