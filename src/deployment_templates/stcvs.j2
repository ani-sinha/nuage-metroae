###############################################################################
# VSD
#
# Specify configuration for Nuage STCvs.
#
# Automatically generated by {{ generator_script | default("script") }}.
#

{% if vsd is defined and vsd %}
{% for item in vsd %}
#
# VS {{ loop.index }}
#
-
    ##### Target Server

    # < Target Server Type >
    # Type of hypervisor environment into which the instance will be created
    # (kvm, vcenter, aws, openstack) 
    #
    target_server_type: "{{ item.target_server_type }}"

    # < KVM Target Server OS Family List >
    #
    {%- if item.kvm_target_server_os_family_list is defined %}
    kvm_target_server_os_family_list: [ {% for i in item.kvm_target_server_os_family_list | default([]) %}"{{ i }}", {% endfor %}]
    {%- else %}
    # kvm_target_server_os_family_list: []
    {%- endif %}

    # < Target Server >
    #
    target_server: "{{ item.target_server }}"

    # < Management Bridge >
    #
    {%- if item.mgmt_bridge is defined %}
    mgmt_bridge: "{{ item.mgmt_bridge }}"
    {%- else %}
    # mgmt_bridge: ""
    {%- endif %}

    # < Data Bridge 1 >
    #
    {%- if item.data_bridge1 is defined %}
    data_bridge1: "{{ item.data_bridge1 }}"
    {%- else %}
    # data_bridge1: ""
    {%- endif %}

    # < Data Bridge 2 >
    #
    {%- if item.data_bridge2 is defined %}
    data_bridge2: "{{ item.data_bridge2 }}"
    {%- else %}
    # data_bridge2: ""
    {%- endif %}

    # < Image path >
    #
    {%- if item.stcv_destination_image_path is defined %}
    stcv_destination_image_path: "{{ item.stcv_destination_image_path }}"
    {%- else %}
    # stcv_destination_image_path: ""
    {%- endif %}

    # < VM VCPUs >
    #
    {%- if item.vcpus is defined %}
    vcpus: {{ item.vcpus }}
    {%- else %}
    # vcpus: ""
    {%- endif %}

    # < VM RAM >
    #
    {%- if item.ram is defined %}
    ram: {{ item.ram }}
    {%- else %}
    # ram: ""
    {%- endif %}

    # < VM Hostname >
    #
    hostname: "{{ item.hostname }}"

    # < VM Management IP >
    #
    mgmt_ip: "{{ item.mgmt_ip }}"

    # < VM Management Gateway >
    #
    mgmt_gateway: "{{ item.mgmt_gateway }}"

    # < Management Network Prefix Length >
    # Management network prefix length for STCv
    #
    mgmt_ip_prefix: {{ item.mgmt_ip_prefix }}

    # < Datacenter >
    #
    {%- if item.vcenter_datacenter is defined %}
    vcenter_datacenter: "{{ item.vcenter_datacenter }}"
    {%- else %}
    # vcenter_datacenter: ""
    {%- endif %}

    # < Cluster >
    #
    {%- if item.vcenter_cluster is defined %}
    vcenter_cluster: "{{ item.vcenter_cluster }}"
    {%- else %}
    # vcenter_cluster: ""
    {%- endif %}

    # < DataStore >
    #
    {%- if item.vcenter_datastore is defined %}
    vcenter_datastore: "{{ item.vcenter_datastore }}"
    {%- else %}
    # vcenter_datastore: ""
    {%- endif %}

    # < ovftool >
    #
    {%- if item.vcenter_ovftool is defined %}
    vcenter_ovftool: "{{ item.vcenter_ovftool }}"
    {%- else %}
    # vcenter_ovftool: ""
    {%- endif %}

{% endfor %}
{% else %}
[ ]
{% endif %}
