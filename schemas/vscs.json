{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "urn:nuage-metroag:vscs",
    "title": "Virtual Services Controller",
    "description": "Specify configuration for Nuage MetroAG VSCs.  There must be either 0, 1 (for stand-alone) or 2 (for high-availability) VSCs specified",
    "type": "array",
    "widget": "form",
    "items": {
        "widget": "item",
        "type": "object",
        "title": "VSC",
        "properties": {
            "hostname": {
                "type": "string",
                "format": "hostname",
                "title": "Hostname",
                "propertyOrder": 10
            },
            "vmname": {
                "type": "string",
                "format": "hostname",
                "title": "VM name",
                "default": "(Hostname)",
                "description": "Used to identify VM on the hypervisor/vcenter.",
                "propertyOrder": 20
            },
            "target_server_type": {
                "type": "string",
                "enum": ["kvm", "vcenter", "heat"],
                "title": "Server type",
                "propertyOrder": 30
            },
            "target_server": {
                "type": "string",
                "format": "hostname",
                "title": "Server hostname",
                "propertyOrder": 40
            },
            "mgmt_bridge": {
                "type": "string",
                "default": "(global Bridge interface)",
                "title": "Bridge interface",
                "propertyOrder": 50
            },
            "mgmt_ip": {
                "type": "string",
                "format": "ipv4",
                "title": "Management IP address",
                "propertyOrder": 60
            },
            "mgmt_ip_prefix": {
                "type": "integer",
                "title": "Management IP prefix length",
                "propertyOrder": 70
            },
            "mgmt_gateway": {
                "type": "string",
                "format": "ipv4",
                "title": "Management IP gateway",
                "propertyOrder": 80
            },
            "vsd_fqdn": {
                "type": "string",
                "format": "hostname",
                "default": "vsd1.(DNS domain)",
                "title": "VSD fqdn",
                "propertyOrder": 90
            },
            "system_ip": {
                "type": "string",
                "format": "ipv4",
                "default": "''",
                "title": "Routing IP address",
                "description": "Only required when IGP or BGP routing will be configured",
                "propertyOrder": 100
            },
            "xmpp_username": {
                "type": "string",
                "default": "vsc(VSC index)",
                "title": "XMPP username",
                "propertyOrder": 110
            },
            "mgmt_static_route_list": {
                "type": "array",
                "default": "[ 0.0.0.0/1, 128.0.0.1/1 ]",
                "title": "Static route IP prefixes",
                "propertyOrder": 120,
                "items": {
                    "type": "string"
                }
            },
            "ctrl_ip": {
                "type": "string",
                "format": "ipv4",
                "title": "Control IP address",
                "propertyOrder": 130
            },
            "ctrl_ip_prefix": {
                "type": "integer",
                "title": "Control netmask prefix length",
                "propertyOrder": 140
            },
            "vcenter_username": {
                "type": "string",
                "title": "VCenter Username",
                "description": "Only applicable for vcenter server type and defaults to global settings",
                "default": "(global VCenter username)",
                "propertyOrder": 150
            },
            "vcenter_password": {
                "type": "string",
                "title": "Password",
                "description": "Only applicable for vcenter server type and defaults to global settings",
                "default": "(global VCenter password)",
                "propertyOrder": 160
            },
            "vcenter_datacenter": {
                "type": "string",
                "title": "Datacenter",
                "description": "Only applicable for vcenter server type and defaults to global settings",
                "default": "(global VCenter datacenter)",
                "propertyOrder": 170
            },
            "vcenter_cluster": {
                "type": "string",
                "title": "Cluster",
                "description": "Only applicable for vcenter server type and defaults to global settings",
                "default": "(global VCenter cluster)",
                "propertyOrder": 180
            },
            "vcenter_datastore": {
                "type": "string",
                "title": "Datastore",
                "description": "Only applicable for vcenter server type and defaults to global settings",
                "default": "(global VCenter datastore)",
                "propertyOrder": 190
            },
            "expected_num_bgp_peers": {
                "type": "integer",
                "default": 0,
                "title": "Expected number BGP peers",
                "description": "Used in postdeploy and health workflows as expected values if non-zero",
                "propertyOrder": 200
            },
            "expected_num_vswitches": {
                "type": "integer",
                "default": 0,
                "title": "Expected number vswitches",
                "description": "Used in postdeploy and health workflows as expected values if non-zero",
                "propertyOrder": 210
            },
            "expected_num_host_vports": {
                "type": "integer",
                "default": 0,
                "title": "Expected number host vports",
                "description": "Used in postdeploy and health workflows as expected values if non-zero",
                "propertyOrder": 220
            },
            "expected_num_vm_vports": {
                "type": "integer",
                "default": 0,
                "title": "Expected number VM vports",
                "description": "Used in postdeploy and health workflows as expected values if non-zero",
                "propertyOrder": 230
            },
            "expected_num_gateway_ports": {
                "type": "integer",
                "default": 0,
                "title": "Expected number gateway ports",
                "description": "Used in postdeploy and health workflows as expected values if non-zero",
                "propertyOrder": 240
            }
        },
        "required": ["hostname", "target_server_type", "target_server", "mgmt_ip", "mgmt_ip_prefix", "mgmt_gateway", "ctrl_ip", "ctrl_ip_prefix"]
    }
}
