---
# *** WARNING ***
# This file is automatically generated by build.yml.
# Changes made to this file may be overwritten.
#

{% if nuage_upgrade is defined %}
nuage_upgrade: {{ nuage_upgrade }}
{% else %}
nuage_upgrade: false
{% endif %}

target_server_username: {{ target_server_username | default('root') }}
ansible_sudo_username: {{ ansible_sudo_username | default('root') }}
user_ssh_pub_key: {{ user_ssh_pub_key | default('~/.ssh/id_rsa.pub') }}

vsd_fqdn: {{ vsd_fqdn_global | default('vsd1.' + dns_domain) }}
{% if vsds is defined and vsds %}
{% if vsds|length == 3 %}
vsd_sa_or_ha: ha
{% else %}
vsd_sa_or_ha: sa
{% endif %}
{% endif %}

vsd_fallocate_size_gb: "{{ vsd_fallocate_size_gb|default(285) }}"
vsd_ram: "{{ vsd_ram|default(8147483) }}"
vstat_ram: "{{ vstat_ram|default(2147483) }}"
vsc_ram: "{{ vsc_ram|default(1147483) }}"

mgmt_bridge: {{ mgmt_bridge }}
data_bridge: {{ data_bridge }}
access_bridge: {{ access_bridge }}
images_path: {{ images_path | default('/var/lib/libvirt/images/') }}
ansible_deployment_host: {{ ansible_deployment_host|default('127.0.0.1') }}
vsdbackup_dir: {{ vsdbackup_path|default('/tmp/vdsbackup') }}

vsc_command_timeout_seconds: "{{ vsc_command_timeout_seconds|default(180) }}"
vsc_scp_timeout_seconds: "{{ vsc_scp_timeout_seconds|default(720) }}"

{% if ntp_server_list  is defined %}
ntp_server_list:
{% for server in ntp_server_list %}
  - {{ server }}
{% endfor %}
{% endif %}

{% if dns_server_list  is defined %}
dns_server_list:
{% for server in dns_server_list %}
  - {{ server }}
{% endfor %}
{% endif %}

dns_domain: {{ dns_domain }}
timezone: {{ timezone | default('US/Pacific') }}
yum_proxy: "{{ yum_proxy | default('NONE') }}"
yum_update: {{ yum_update | default(True) }}
yum_pin: {{ yum_pin | default(True) }}

{% if osc_operations_list is defined %}
{% if 'integrate_with_vsd' in osc_operations_list | default('NONE') %}
vsd_auth:
  username: {{ vsd_auth_username | default('csproot') }}
  password: {{ vsd_auth_password | default('csproot') }}
  enterprise: {{ vsd_auth_enterprise | default('csp') }}
  api_url: "https://{{ vsd_fqdn_global | default('vsd1.' + dns_domain) }}:8443"
{% endif %}
{% endif %}

{% if os_auth is defined %}
os_auth:
  username: {{ os_auth.username | default('NONE') }}
  password: {{ os_auth.password | default('NONE') }}
  project_name: {{ os_auth.project_name | default('NONE') }}
  auth_url: "{{ os_auth.auth_url | default('NONE') }}"
{% endif %}

{% if vcenter_username is defined %}
vcenter:
  username: {{ vcenter_username }}
  password: {{ vcenter_password }}
  datacenter: {{ vcenter_datacenter }}
  cluster: {{ vcenter_cluster }}
  datastore: {{ vcenter_datastore }}
  resource_pool: {{ vcenter_resource_pool | default('NONE') }}
  ovftool: {{ vcenter_ovftool | default('/usr/bin/ovftool') }}
{% endif %}

metro_reports_dir: {{ metro_reports_dir | default(playbook_dir + "/reports") }}
failure_report_path: {{ playbook_dir  + "/failure_report.log" }}

expected_bgp_admin_state: {{ vsc_health_expected_bgp_admin_state | default('Up') }}
expected_bgp_oper_state: {{ vsc_health_expected_bgp_oper_state | default('Up') }}
expected_xmpp_server_state: {{ vsc_health_expected_xmpp_server_state | default('Functional') }}

metro_backup_root: "{{ metro_backup_root | default( nuage_unzipped_files_dir + "/backups" ) }}"
