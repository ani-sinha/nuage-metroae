- block:

  - name: Measure latency between First and Second VSD
    import_tasks: validate_latency.yml
    vars:
      other_node: "{{ second_cluster_node_to_install }}"
      current_node : "{{ first_cluster_node_to_install }}"

  - name: Measure latency between First and Third VSD
    include_tasks: validate_latency.yml
    vars:
      other_node: "{{ third_cluster_node_to_install }}"
      current_node : "{{ first_cluster_node_to_install }}"

  - name: Measure latency between Second and Third VSD
    include_tasks: validate_latency.yml
    vars:
      other_node: "{{ third_cluster_node_to_install }}"
      current_node : "{{ first_cluster_node_to_install }}"
      delegate_node: "{{ second_cluster_node_to_install }}"

  - block:

    - name: Measure latency between First active and First standby VSD
      include_tasks: validate_latency.yml
      vars:
        other_node: "{{ groups['vsd_ha_node1'][0] }}"
        current_node : "{{ first_cluster_node_to_install }}"

    - name: Measure latency between Second active and First standby VSD
      include_tasks: validate_latency.yml
      vars:
        other_node: "{{ groups['vsd_ha_node2'][0] }}"
        current_node : "{{ first_cluster_node_to_install }}"

    - name: Measure latency between Third active and First standby VSD
      include_tasks: validate_latency.yml
      vars:
        other_node: "{{ groups['vsd_ha_node3'][0] }}"
        current_node : "{{ first_cluster_node_to_install }}"

    when: vsd_standby_cluster | default(False)

  when: not skip_vsd_cluster_rtt_test | default(False)
