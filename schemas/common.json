{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$id": "urn:nuage-metroae:common",
    "title": "Common Configuration Settings",
    "description": "Common configuration settings for this deployment",
    "type": "object",
    "widget": "form",
    "properties": {
        "nuage_unzipped_files_dir": {
            "type": "string",
            "title": "Nuage Unzip Files Directory",
            "description": "Full path to the directory where the Nuage unzipped files for this deployment can be found. E.g. qcow2 files",
            "propertyOrder": 10
        },
        "dns_domain": {
            "type": "string",
            "format": "hostname",
            "title": "Domain Name",
            "description": "Domain name for this deployment. E.g. company.net.",
            "propertyOrder": 40
        },
        "vsd_fqdn_global": {
            "type": "string",
            "title": "Global VSD FQDN",
            "format": "hostname",
            "description": "For clustered VSD, the XMPP FQDN for the cluster; For standalone VSD, the FQDN of the single VSD",
            "propertyOrder": 50
        },
        "mgmt_bridge": {
            "type": "string",
            "title": "Management Network Bridge",
            "description": "Network Bridge used for the management interface of a component or the BOF interface on VSC. This will be a Distributed Virtual PortGroup (DVPG) when deploying on vCenter or a Linux network bridge when deploying on KVM. This field can be overridden by defining the management network bridge separately in the component configuration",
            "propertyOrder": 60
        },
        "data_bridge": {
            "type": "string",
            "title": "Data Network Bridge",
            "description": "Network Bridge used for the data path of a component or the Control interface on VSC. This will be a Distributed Virtual PortGroup (DVPG) when deploying on vCenter or a Linux network bridge when deploying on KVM. This field can be overridden by defining the Data network bridge separately in the component configuration",
            "propertyOrder": 70
        },
        "access_bridge": {
            "type": "string",
            "title": "NSGv Access Bridge",
            "description": "Network bridge used for the access network when installing an NSGv. This will be a Distributed Virtual PortGroup (DVPG) when deploying on vCenter or a Linux network bridge when installing on KVM",
            "default": "",
            "component_type": "nsgv",
            "propertyOrder": 80
        },
        "ntp_server_list": {
            "type": "array",
            "title": "NTP Server IP(s)",
            "description": "List of one or more NTP server IPv4 addresses that must be in dotted-decimal format",
            "minItems": 1,
            "propertyOrder": 110,
            "items": {
                "type": "string",
                "format": "ipv4"
            }
        },
        "dns_server_list": {
            "type": "array",
            "title": "DNS server IP(s)",
            "description": "List of one or more DNS server IPv4 addresses for resolving component domainnames. Must be in dotted-decimal format.",
            "minItems": 1,
            "propertyOrder": 120,
            "items": {
                "type": "string",
                "format": "hostname"
            }
        },
        "timezone": {
            "type": "string",
            "title": "Timezone",
            "description": "Timezone specification for the deployment",
            "default": "US/Pacific",
            "propertyOrder": 130
        },
        "images_path": {
            "type": "string",
            "title": "Images Directory",
            "default": "/var/lib/libvirt/images/",
            "description": "Full path to the directory on the KVM target server where qcow2 files will be copied",
            "target_server_type": "kvm",
            "propertyOrder": 90
        },
        "user_ssh_pub_key": {
            "type": "string",
            "title": "SSH Public Key",
            "default": "~/.ssh/id_rsa.pub",
            "description": "Full path to the public key file to be injected into Nuage components to enable passwordless connectivity for configuration",
            "target_server_type": "kvm",
            "propertyOrder": 20,
            "advanced": true
        },
        "metro_reports_dir": {
            "type": "string",
            "title": "Reports Directory",
            "default": "./reports",
            "description": "Full path to the directory where the generated health reports for this deployment will be placed",
            "propertyOrder": 30,
            "advanced": true
        },
        "secure_communication": {
            "type": "string",
            "title": "Secure Communication",
            "default": true,
            "description": "Flag to indicate when secure communications via TLS will be used between components; default is True",
            "propertyOrder": 100,
            "advanced": true
        },
        "yum_update": {
            "type": "boolean",
            "title": "Yum update",
            "description": "Flag to indicate whether to perform a Yum update on VSD during the installation",
            "default": true,
            "advanced": true,
            "propertyOrder": 140
        },
        "yum_proxy": {
            "type": "string",
            "title": "Proxy for Yum Updates",
            "format": "hostname",
            "description": "Proxy URL to be used if Yum repositories cannot be directly reached",
            "default": "NONE",
            "advanced": true,
            "propertyOrder": 150
        },
        "vsd_fallocate_size_gb": {
            "type": "integer",
            "title": "VSD Disk Size",
            "description": "Amount of VSD disk space to allocate, in GB. Valid only for KVM deployments. Note: Changing the default value is not a supported configuration.",
            "warning": "Changing the default value is not a supported configuration",
            "default": 285,
            "propertyOrder": 160,
            "target_server_type": "kvm",
            "advanced": true
        },
         "vsd_ram": {
            "type": "integer",
            "title": "VSD RAM",
            "description": "Amount of VSD RAM to allocate, in KB. Valid only for KVM deployments. Note: Changing the default value is not a supported configuration.",
            "warning": "Changing the default value is not a supported configuration",
            "default": 25165824,
            "propertyOrder": 170,
            "target_server_type": "kvm",
            "advanced": true
        },
        "vsc_ram": {
            "type": "integer",
            "title": "VSC RAM",
            "description": "Amount of VSC RAM to allocate, in KB. Valid only for KVM deployments. Note: Changing the default value is not a supported configuration.",
            "warning": "Changing the default value is not a supported configuration",
            "default": 4147483,
            "propertyOrder": 180,
            "target_server_type": "kvm",
            "advanced": true
        },
        "vstat_ram": {
            "type": "integer",
            "title": "VSTAT RAM",
            "description": "Amount of VSTAT RAM to allocate, in KB. Valid only for KVM deployments. Note: Changing the default value is not a supported configuration.",
            "warning": "Changing the default value is not a supported configuration",
            "default": 16777216,
            "propertyOrder": 190,
            "target_server_type": "kvm",
            "advanced": true
        },
        "libnetwork_scope": {
            "type": "string",
            "title": "Libnetwork scope",
            "default": "local",
            "advanced": true,
            "enum": ["local", "global"],
            "description": "Scope of libnetworking support; local: connectivity between containers is limited to within the local host; global: connectivity between containers may span across hosts in the cluster",
            "propertyOrder": 200
        },
        "libnetwork_cluster_store_scheme": {
            "type": "string",
            "title": "Libnetwork cluster store URL scheme",
            "default": "consul",
            "advanced": true,
            "description": "Scheme portion of the URL pointing to the key-value store used for the Libnetwork cluster",
            "propertyOrder": 210
        },
        "libnetwork_cluster_store_host": {
            "type": "string",
            "title": "Libnetwork cluster store URL host",
            "default": "NONE",
            "format": "hostname",
            "advanced": true,
            "description": "Host portion of the URL pointing to the key-value store used for the Libnetwork cluster",
            "propertyOrder": 220
        },
        "libnetwork_cluster_store_port": {
            "type": "integer",
            "title": "Libnetwork cluster store URL port",
            "default": 8500,
            "description": "Port portion of the URL pointing to the key-value store used for the Libnetwork cluster",
            "advanced": true,
            "propertyOrder": 230
        }
    },
    "required": ["nuage_unzipped_files_dir", "dns_domain", "vsd_fqdn_global", "mgmt_bridge", "data_bridge", "ntp_server_list", "dns_server_list"]
}
